<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layout/gukmin/gukmindefault}">

<th:block layout:fragment="gukminMainContents">

<link rel="stylesheet" href="/gukmin/editors/trumbowyg/ui/trumbowyg.css">
<link rel="stylesheet"
	href="/gukmin/editors/trumbowyg/plugins/colors/ui/trumbowyg.colors.css">

<!-- Import jQuery -->
<!--
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	window.jQuery
			|| document.write(
					'<script src="js/vendor/jquery-3.3.1.min.js"><\/script>') 
</script>
 -->

<!-- Import Trumbowyg -->
<script src="/gukmin/editors/trumbowyg/trumbowyg.min.js"></script>
<script type="text/javascript" src="/gukmin/editors/trumbowyg/langs/ko.min.js"></script>

<!-- Import all plugins you want AFTER importing jQuery and Trumbowyg -->
<script src="/gukmin/editors/trumbowyg/plugins/base64/trumbowyg.base64.js"></script>
<script
	src="/gukmin/editors/trumbowyg/plugins/cleanpaste/trumbowyg.cleanpaste.js"></script>
<script src="/gukmin/editors/trumbowyg/plugins/colors/trumbowyg.colors.js"></script>
<script
	src="/gukmin/editors/trumbowyg/plugins/fontfamily/trumbowyg.fontfamily.js"></script>
<script src="/gukmin/editors/trumbowyg/plugins/fontsize/trumbowyg.fontsize.js"></script>
<script src="/gukmin/editors/trumbowyg/plugins/history/trumbowyg.history.js"></script>
<script
	src="/gukmin/editors/trumbowyg/plugins/lineheight/trumbowyg.lineheight.js"></script>
<script
	src="/gukmin/editors/trumbowyg/plugins/pasteembed/trumbowyg.pasteembed.js"></script>
<script
	src="/gukmin/editors/trumbowyg/plugins/pasteimage/trumbowyg.pasteimage.js"></script>


<form id="registerform" name="registerform" action="/HostSpotRegisterForm.festa" method="post">
	<input type="hidden" name="region" value="" id="region"/>
	<input type="hidden" name="imagefilepath" value="" id="imagefilepath"/>
	<input type="hidden" name="lat" value="" id="lat"/>
	<input type="hidden" name="lon" value="" id="lon"/>
	<input type="hidden" name="situationseqs" value="" id="situationseqs"/>
	<input type="hidden" name="seasonseqs" value="" id="seasonseqs"/>
	<input type="hidden" name="termseqs" value="" id="termseqs"/>
	<input type="hidden" name="openflag" value="" id="openflag"/>

	<input type="hidden" name="typeseqs" value="" id="typeseqs"/>
	<input type="hidden" name="marketseq" value="" id="marketseq"/>
	<input type="hidden" name="holidayseqs" value="" id="holidayseqs"/>
	<input type="hidden" name="noholidayflag" value="" id="noholidayflag"/>
	<input type="hidden" name="videofilepath" value="" id="videofilepath"/>
	<input type="hidden" name="leafletfilepath" value="" id="leafletfilepath"/>
	<section>
		<div class="commDesc">
			<p class="t01">#스팟 등록하기</p>
			<p class="t02">#당신의 스팟을 ALLFestMoa에 등록해주세요.</p>
		</div>
		<div class="norBox">
			<p class="wSubj">
				요약정보 <span>(필수)</span>
			</p>
			<table class="writeTable t01">
				<colgroup>
					<col width="120" />
					<col width="" />
				</colgroup>
				<tr>
					<th>카테고리</th>
					<td>
						<div class="radioBtn">
							<a href="javascript:void(0)" style="pointer-events: none;">축제·이벤트
							</a> <a href="javascript:void(0)" style="pointer-events: none;"
								class="on">스토어</a>
						</div>
					</td>
				</tr>
				<tr>
					<th>지역별</th>
					<td>
						<div class="form">
							<p class="item">국내</p>
							<div class="radioBtn">
								<a href="javascript:setRegion('1');" id="region1">서울</a> <a
									href="javascript:setRegion('2');" id="region2">경기</a> <a
									href="javascript:setRegion('3');" id="region3">인천</a> <a
									href="javascript:setRegion('4');" id="region4">대전·충청</a> <a
									href="javascript:setRegion('5');" id="region5">부산·울산·경남</a> <a
									href="javascript:setRegion('6');" id="region6">대구·경북</a> <a
									href="javascript:setRegion('7');" id="region7">광주·전라</a> <a
									href="javascript:setRegion('8');" id="region8">강원·기타</a>
							</div>
						</div>
						<div class="form">
							<p class="item">해외</p>
							<div class="radioBtn">
								<a href="javascript:setRegion('101');" id="region101">아시아·중동
								</a> <a href="javascript:setRegion('102');" id="region102">아메리카</a>
								<a href="javascript:setRegion('103');" id="region103">유럽</a> <a
									href="javascript:setRegion('104');" id="region104">아프리카·오세아니아
								</a>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<th>상황</th>
					<td>
						<div class="checkBtn">
							
								<a
									href="javascript:setSituation('1');"
									id="situation1">나홀로</a>
							
								<a
									href="javascript:setSituation('2');"
									id="situation2">친구</a>
							
								<a
									href="javascript:setSituation('3');"
									id="situation3">연인</a>
							
								<a
									href="javascript:setSituation('4');"
									id="situation4">가족</a>
							
								<a
									href="javascript:setSituation('5');"
									id="situation5">비즈니스</a>
							
								<a
									href="javascript:setSituation('6');"
									id="situation6">모임</a>
							
						</div>
						<p class="rtxt">※ 복수 선택 가능</p>
					</td>
				</tr>
				<tr>
					<th>계절</th>
					<td>
						<div class="checkBtn">
							
								<a
									href="javascript:setSeason('1');"
									id="season1">봄</a>
							
								<a
									href="javascript:setSeason('2');"
									id="season2">여름</a>
							
								<a
									href="javascript:setSeason('3');"
									id="season3">가을</a>
							
								<a
									href="javascript:setSeason('4');"
									id="season4">겨울</a>
							
						</div>
						<p class="rtxt">※ 복수 선택 가능</p>
					</td>
				</tr>
				<tr>
					<th>기간</th>
					<td>
						<div class="checkBtn">
							
								<a href="javascript:setTerm('1');"
									id="term1">당일치기</a>
							
								<a href="javascript:setTerm('2');"
									id="term2">2일이상</a>
							
								<a href="javascript:setTerm('3');"
									id="term3">주말</a>
							
								<a href="javascript:setTerm('4');"
									id="term4">평일</a>
							
								<a href="javascript:setTerm('5');"
									id="term5">연휴</a>
							
						</div>
						<p class="rtxt">※ 복수 선택 가능</p>
					</td>
				</tr>
			</table>
			<p class="wEtc">※ 요약정보는 사용자의 검색 및 큐레이션에 반영됩니다.</p>

			<p class="wSubj">
				기본정보 <span>(<mark>*</mark>항목 필수)
				</span>
			</p>
			<table class="writeTable t01">
				<colgroup>
					<col width="120" />
					<col width="" />
				</colgroup>
				<tr>
					<th>공개여부<mark>*</mark></th>
					<td>
						<div class="radioBtn">
							<a href="javascript:setOpenflag('Y');" id="openflagY">공개</a> <a
								href="javascript:setOpenflag('N');" id="openflagN">비공개</a>
						</div>
					</td>
				</tr>
				<tr>
					<th>스토어유형<mark>*</mark></th>
					<td>
						<div class="checkBtn">
							
								<a href="javascript:setType('8');"
									id="type8">음식/식품</a>
							
								<a href="javascript:setType('9');"
									id="type9">수산/횟집</a>
							
								<a href="javascript:setType('10');"
									id="type10">축산물</a>
							
								<a href="javascript:setType('11');"
									id="type11">농산물/반찬</a>
							
								<a href="javascript:setType('12');"
									id="type12">제과/제빵/떡</a>
							
								<a href="javascript:setType('13');"
									id="type13">마트/과일</a>
							
								<a href="javascript:setType('14');"
									id="type14">방앗간</a>
							
								<a href="javascript:setType('15');"
									id="type15">건강원</a>
							
								<a href="javascript:setType('16');"
									id="type16">화장품</a>
							
								<a href="javascript:setType('17');"
									id="type17">의류</a>
							
								<a href="javascript:setType('18');"
									id="type18">분식</a>
							
								<a href="javascript:setType('19');"
									id="type19">이불/가방/신발</a>
							
								<a href="javascript:setType('20');"
									id="type20">건어물/젓갈</a>
							
								<a href="javascript:setType('21');"
									id="type21">꽃집/귀금속</a>
							
								<a href="javascript:setType('22');"
									id="type22">기타</a>
							
							<input type="text" id="typeetc" name="typeetc" class="etcForm"
								placeholder="기타 선택시 입력해주세요." />
						</div>
						<p class="rtxt">※ 복수 선택 가능</p>
					</td>
				</tr>
				<tr>
					<th>소속 전통시장<mark>*</mark></th>
					<td>
						<div class="form">
							<div class="storeSearchBox">
								<a href="javascript:void(0)" id="searchmarketbutton"
									class="btnEtc01">시장검색</a>
							</div>
							<input type="text" id="markettitle" name="markettitle"
								class="inp" readonly="readonly" />
						</div>
					</td>
				</tr>
				<tr>
					<th>스토어명 <mark>*</mark></th>
					<td>
						<div class="form">
							<input type="text" id="title" name="title" class="inp"
								placeholder="입력시 하단에 노출되는 연관검색어를 참고하여 등록해주세요." />
						</div>
					</td>
				</tr>
				<tr>
					<th>운영시간<mark>*</mark></th>
					<td>
						<div class="form">
							<div class="ritem">
								<span class="etxt rtype">OPEN&nbsp;</span> <input type="text"
									id="opentimeh" name="opentimeh" class="inp w40" maxlength="2" />
								<span class="etxt">:</span> <input type="text" id="opentimem"
									name="opentimem" class="inp w40" maxlength="2" /> <span
									class="etxt">~</span>
							</div>
							<div class="ritem">
								<span class="etxt rtype">ClOSE&nbsp;</span> <input type="text"
									id="closetimeh" name="closetimeh" class="inp w40" maxlength="2" />
								<span class="etxt">:</span> <input type="text" id="closetimem"
									name="closetimem" class="inp w40" maxlength="2" />
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<th>휴일정보<mark>*</mark></th>
					<td>
						<div class="checkBtn">
							
								<a
									href="javascript:setHoliday('1');"
									id="holiday1">월</a>
							
								<a
									href="javascript:setHoliday('2');"
									id="holiday2">화</a>
							
								<a
									href="javascript:setHoliday('3');"
									id="holiday3">수</a>
							
								<a
									href="javascript:setHoliday('4');"
									id="holiday4">목</a>
							
								<a
									href="javascript:setHoliday('5');"
									id="holiday5">금</a>
							
								<a
									href="javascript:setHoliday('6');"
									id="holiday6">토</a>
							
								<a
									href="javascript:setHoliday('7');"
									id="holiday7">일</a>
							
								<a
									href="javascript:setHoliday('8');"
									id="holiday8">공휴일</a>
							
								<a
									href="javascript:setHoliday('9');"
									id="holiday9">기타</a>
							
							<input type="text" id="holidayetc" name="holidayetc"
								class="etcForm" placeholder="기타 선택시 입력해주세요." />
							<div class="chkForm">
								<input type="checkbox" id="noholiday" name="noholiday" /> <label
									for="noholiday">연중무휴</label>
							</div>
						</div>
						<p class="rtxt">※ 복수 선택 가능</p>
					</td>
				</tr>
				<tr>
					<th>주소<mark>*</mark></th>
					<td>
						<div class="form">
							<div class="addrBox">
								<a href="javascript:void(0)" id="addresssearchbutton"
									onclick="address_execDaumPostcode()" class="btnEtc01">주소찾기</a>
							</div>
							<input type="text" id="roadaddress" name="roadaddress"
								class="inp" />
							
							<script
								src="https://ssl.daumcdn.net/dmaps/map_js_init/postcode.v2.js"></script>
							
							<script
								src="//dapi.kakao.com/v2/maps/sdk.js?appkey=565c5e2a6c37d4bf2ff2cf399b5dede9&libraries=services"></script>
							<script>
								function address_execDaumPostcode() {
									new daum.Postcode(
											{
												oncomplete : function(data) {
													var fullRoadAddr = data.roadAddress; // 도로명 주소 변수
													var extraRoadAddr = ''; // 도로명 조합형 주소 변수

													// 법정동명이 있을 경우 추가한다. (법정리는 제외)
													// 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
													if (data.bname !== ''
															&& /[동|로|가]$/g
																	.test(data.bname)) {
														extraRoadAddr += data.bname;
													}
													// 건물명이 있고, 공동주택일 경우 추가한다.
													if (data.buildingName !== ''
															&& data.apartment === 'Y') {
														extraRoadAddr += (extraRoadAddr !== '' ? ', '
																+ data.buildingName
																: data.buildingName);
													}
													// 도로명, 지번 조합형 주소가 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
													if (extraRoadAddr !== '') {
														extraRoadAddr = ' ('
																+ extraRoadAddr
																+ ')';
													}
													// 도로명, 지번 주소의 유무에 따라 해당 조합형 주소를 추가한다.
													if (fullRoadAddr !== '') {
														fullRoadAddr += extraRoadAddr;
													}

													// 우편번호와 주소 정보를 해당 필드에 넣는다.
													//document.getElementById('sample4_postcode').value = data.zonecode; //5자리 새우편번호 사용
													document
															.getElementById('roadaddress').value = fullRoadAddr;

													//autoLocation(fullRoadAddr);
												}
											}).open();
								}
							</script>
						</div>
					</td>
				</tr>
				<tr>
					<th>위치정보<mark>*</mark></th>
					<td>
						<div class="form">
							<div class="addrBox" id="floating-panel">
								<input type="text" id="googleaddress" class="inp" /> <a
									href="javascript:void(0)" id="locationsearchbutton"
									class="btnEtc01">위치표시</a>
							</div>
							<p class="rtxt">
								※ 구글지도에서 위치 검색 후 플러스코드(ex. GWXC+93 서울특별시)를 복사하여 붙여넣기 해주세요 [<a
									href="https://www.google.com/maps/?hl=ko" target="_blank">구글지도바로가기</a>]
							</p>
							<div class="mapBox" id="googlemap"
								style="width: 100%; height: 500px; margin-top: 10px; display:;"></div>
							<script>
								function initMap() {
									var map = new google.maps.Map(document
											.getElementById('googlemap'), {
										zoom : 8,
										center : {
											lat : 37.548468341546155,
											lng : 126.92014667234184
										}
									});
									var geocoder = new google.maps.Geocoder();

									document.getElementById(
											'locationsearchbutton')
											.addEventListener(
													'click',
													function() {
														geocodeAddress(
																geocoder, map);
													});
								}

								var googlemarker;

								function geocodeAddress(geocoder, resultsMap) {
									var address = document
											.getElementById('googleaddress').value;
									geocoder
											.geocode(
													{
														'address' : address
													},
													function(results, status) {
														if (status === 'OK') {
															resultsMap
																	.setCenter(results[0].geometry.location);

															if (typeof googlemarker != "undefined")
																googlemarker
																		.setMap(null);

															googlemarker = new google.maps.Marker(
																	{
																		map : resultsMap,
																		position : results[0].geometry.location
																	});
															$('#lat')
																	.val(
																			results[0].geometry.location
																					.lat());
															$('#lon')
																	.val(
																			results[0].geometry.location
																					.lng());
														} else {
															alert('Geocode was not successful for the following reason: '
																	+ status);
														}
													});
								}
							</script>
							<script async defer
								src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWEafyDye2nVJLlUGItmGjKdEp2uqoBm8&callback=initMap">
								
							</script>
						</div>
					</td>
				</tr>
				<tr>
					<th>홈페이지 주소<mark></mark></th>
					<td>
						<div class="form">
							<input type="text" id="homepageurl" name="homepageurl"
								class="inp" placeholder="http:// 를 포함한 전체 주소를 입력해주세요" />
						</div>
					</td>
				</tr>
				<tr>
					<th>연락처<mark>*</mark></th>
					<td>
						<div class="form">
							<select id="contact01" name="contact01" class="select w60"><option
									value="">선택</option>
								<option value="999">해외</option>
								<option value="02">서울 (02)</option>
								<option value="031">경기 (031)</option>
								<option value="032">인천 (032)</option>
								<option value="033">강원 (033)</option>
								<option value="041">충남 (041)</option>
								<option value="042">대전 (042)</option>
								<option value="043">충북 (043)</option>
								<option value="051">부산 (051)</option>
								<option value="052">울산 (052)</option>
								<option value="053">대구 (053)</option>
								<option value="054">경북 (054)</option>
								<option value="055">경남 (055)</option>
								<option value="061">전남 (061)</option>
								<option value="062">광주 (062)</option>
								<option value="063">전북 (063)</option>
								<option value="064">제주 (064)</option>
								<option value="070">인터넷전화 (070)</option>
								<option value="050">평생전화 (050)</option>
								<option value="010">010</option>
								<option value="011">011</option>
								<option value="016">016</option>
								<option value="017">017</option>
								<option value="018">018</option>
								<option value="019">019</option></select>
							<div id="contact0203">
								<span class="etxt">-</span> <input type="text" id="contact02"
									name="contact02" class="inp w60" /> <span class="etxt">-</span>
								<input type="text" id="contact03" name="contact03"
									class="inp w60" />
							</div>
							<input type="text" id="contact" name="contact"
								style="display: none;" placeholder="" class="etcForm" />
						</div>
					</td>
				</tr>
				<tr>
					<th>개설년도<mark>*</mark></th>
					<td>
						<div class="form">
							<input type="text" id="openyear" name="openyear" class="etcForm"
								placeholder="ex) 2019" />
							<!--
							<select name="openyear" id="openyear" class="select w100">
    <option value=""
    >선택</option>
    <option value="2019">2019</option>
    <option value="2018">2018</option>
    <option value="2017">2017</option>
    <option value="2016">2016</option>
    <option value="2015">2015</option>
    <option value="2014">2014</option>
    <option value="2013">2013</option>
    <option value="2012">2012</option>
    <option value="2011">2011</option>
    <option value="2010">2010</option>
    <option value="2009">2009</option>
    <option value="2008">2008</option>
    <option value="2007">2007</option>
    <option value="2006">2006</option>
    <option value="2005">2005</option>
    <option value="2004">2004</option>
    <option value="2003">2003</option>
    <option value="2002">2002</option>
    <option value="2001">2001</option>
    <option value="2000">2000</option>
    <option value="1999">1999</option>
    <option value="1998">1998</option>
    <option value="1997">1997</option>
    <option value="1996">1996</option>
    <option value="1995">1995</option>
    <option value="1994">1994</option>
    <option value="1993">1993</option>
    <option value="1992">1992</option>
    <option value="1991">1991</option>
    <option value="1990">1990</option>
    <option value="1989">1989</option>
    <option value="1988">1988</option>
    <option value="1987">1987</option>
    <option value="1986">1986</option>
    <option value="1985">1985</option>
    <option value="1984">1984</option>
    <option value="1983">1983</option>
    <option value="1982">1982</option>
    <option value="1981">1981</option>
    <option value="1980">1980</option>
    <option value="1979">1979</option>
    <option value="1978">1978</option>
    <option value="1977">1977</option>
    <option value="1976">1976</option>
    <option value="1975">1975</option>
    <option value="1974">1974</option>
    <option value="1973">1973</option>
    <option value="1972">1972</option>
    <option value="1971">1971</option>
    <option value="1970">1970</option>
    <option value="1969">1969</option>
    <option value="1968">1968</option>
    <option value="1967">1967</option>
    <option value="1966">1966</option>
    <option value="1965">1965</option>
    <option value="1964">1964</option>
    <option value="1963">1963</option>
    <option value="1962">1962</option>
    <option value="1961">1961</option>
    <option value="1960">1960</option>
    <option value="1959">1959</option>
    <option value="1958">1958</option>
    <option value="1957">1957</option>
    <option value="1956">1956</option>
    <option value="1955">1955</option>
    <option value="1954">1954</option>
    <option value="1953">1953</option>
    <option value="1952">1952</option>
    <option value="1951">1951</option>
    <option value="1950">1950</option>
    <option value="1949">1949</option>
    <option value="1948">1948</option>
    <option value="1947">1947</option>
    <option value="1946">1946</option>
    <option value="1945">1945</option>
    <option value="1944">1944</option>
    <option value="1943">1943</option>
    <option value="1942">1942</option>
    <option value="1941">1941</option>
    <option value="1940">1940</option>
    <option value="1939">1939</option>
    <option value="1938">1938</option>
    <option value="1937">1937</option>
    <option value="1936">1936</option>
    <option value="1935">1935</option>
    <option value="1934">1934</option>
    <option value="1933">1933</option>
    <option value="1932">1932</option>
    <option value="1931">1931</option>
    <option value="1930">1930</option>
    <option value="1929">1929</option>
    <option value="1928">1928</option>
    <option value="1927">1927</option>
    <option value="1926">1926</option>
    <option value="1925">1925</option>
    <option value="1924">1924</option>
    <option value="1923">1923</option>
    <option value="1922">1922</option>
    <option value="1921">1921</option>
    <option value="1920">1920</option>
    <option value="1919">1919</option>
    <option value="1918">1918</option>
    <option value="1917">1917</option>
    <option value="1916">1916</option>
    <option value="1915">1915</option>
    <option value="1914">1914</option>
    <option value="1913">1913</option>
    <option value="1912">1912</option>
    <option value="1911">1911</option>
    <option value="1910">1910</option>
    <option value="1909">1909</option>
    <option value="1908">1908</option>
    <option value="1907">1907</option>
    <option value="1906">1906</option>
    <option value="1905">1905</option>
    <option value="1904">1904</option>
    <option value="1903">1903</option>
    <option value="1902">1902</option>
    <option value="1901">1901</option>
    <option value="1900">1900</option>


</select>

 
								 -->
						</div>
					</td>
				</tr>
				<style>
.image-upload>input {
	display: none;
}
</style>
				<style>
#sortable {
	list-style-type: none;
	margin: 0;
	padding: 0;
	width: 100%;
}

#sortable li {
	padding: 0px;
	float: left;
	margin-right: 10px;
	margin-top: 10px;
	width: 326px;
	height: 244px;
	font-size: 1em;
	text-align: left;
}

.input_hidden {
	position: absolute;
	left: -9999px;
}
</style>


				<tr>
					<th>이미지<mark>*</mark></th>
					<td>
						<div class="form">

							<div class="image-upload">
								<label for="spotimage" class="btnEtc01">찾아보기</label><input
									id="spotimage" name="spotimage" type="file" />
							</div>
							<p class="findDesc">
								※ 이미지파일(GIF, JPG, PNG)만 첨부 가능하고 최대 5MB까지 첨부할 수 있습니다. (최대 10장) <br />대표이미지는
								썸네일로 사용되며, 정사각형 비율의 이미지를 선택해주세요.
							</p>
							<ul class="imgList" id="sortable">
								<!--
								<li><a href="javascript:void(0)"><img
										src="../../include/img/etc/etc_thumList01.jpg" /></a></li>
								<li><a href="javascript:void(0)"><img
										src="../../include/img/etc/etc_thumList01.jpg" /></a></li>
								<li><a href="javascript:void(0)" class="on"><img
										src="../../include/img/etc/etc_thumList01.jpg" /></a></li> 
							 -->
							</ul>
						</div>
					</td>
				</tr>
				<script>
					$(function() {
						$('#sortable').sortable(
								{
									update : function(event, ui) {
										var productOrder = $(this).sortable(
												'toArray').toString();
										$('#imagefilepath').val(productOrder);
									}
								});
						$("#sortable").disableSelection();
					});

					function deleteSpotImage(name) {
						$('[name="' + name + '"]').remove();
						var productOrder = $('#sortable').sortable('toArray')
								.toString();
						$('#imagefilepath').val(productOrder);
					}

					var imageindex = 0;
					$("#spotimage")
							.on(
									'change',
									function() {
										resetCommonDialog();
										indicatorOn();
										if ($('#sortable').sortable('toArray').length >= 10) {
											indicatorOff();
											$('#dialogtitle').append('이미지업로드');
											$('#dialogcontent')
													.append(
															'이미지 파일은 최대 10장까지 업로드할 수 있습니다.');
											$('#commondialog').show();
										} else {
											// 업로드
											$
													.ajax({
														url : 'JSONHostSpotImageUpload.festa',
														type : 'POST',
														data : new FormData(
																$('form')[1]),
														mimeType : 'multipart/form-data',
														dataType : 'json',
														contentType : false,
														cache : false,
														processData : false,
														success : function(
																data,
																textStatus,
																jqXHR) {
															if (data.resultcode == 0) {
																indicatorOff();
																$("#sortable")
																		.append(
																				'<li id="' + data.tempimagepath + '" name="image_' + imageindex + '">'
																						+ '<a href="javascript:void(0)" onclick="javascript:deleteSpotImage(\'image_'
																						+ imageindex
																						+ '\');"><font size="2em">삭제▼</font></a>'
																						+ '<input type="radio" id="mainimage_' + imageindex + '" name="mainimagepath" value="' + data.tempimagepath + '" class="input_hidden">'
																						+ '<label class="" for="mainimage_'
																						+ imageindex
																						+ '" onclick="$(\'#sortable li label\').removeClass(\'selected\');$(this).addClass(\'selected\');$(\'#sortable li a\').removeClass(\'on\');$(\'#mainimagetitle_'
																						+ imageindex
																						+ '\').addClass(\'on\');$(\'#mainimage_'
																						+ imageindex
																						+ '\').prop(\'checked\', true);">'
																						+ '<a href="#none" id="mainimagetitle_'
																						+ imageindex
																						+ '" class="">'
																						+ '<img src="' + data.tempimagepath + '" style="max-height: 234px; width: 326px;" /></label></a></li>');
																imageindex++;
																$(
																		'#imagefilepath')
																		.val(
																				$(
																						'#sortable')
																						.sortable(
																								'toArray')
																						.toString());
															} else {
																indicatorOff();
																if (data.resultcode == 1) {
																	$(
																			'#dialogtitle')
																			.append(
																					'이미지업로드');
																	$(
																			'#dialogcontent')
																			.append(
																					'이미지를 첨부해 주세요.');
																	$(
																			'#commondialog')
																			.show();
																} else if (data.resultcode == 2) {
																	$(
																			'#dialogtitle')
																			.append(
																					'이미지업로드');
																	$(
																			'#dialogcontent')
																			.append(
																					'이미지 파일만 첨부 가능합니다.');
																	$(
																			'#commondialog')
																			.show();
																} else if (data.resultcode == 3) {
																	$(
																			'#dialogtitle')
																			.append(
																					'이미지업로드');
																	$(
																			'#dialogcontent')
																			.append(
																					'최대 5MB까지 첨부할 수 있습니다.');
																	$(
																			'#commondialog')
																			.show();
																} else if (data.resultcode == 4) {
																	$(
																			'#dialogtitle')
																			.append(
																					'이미지업로드');
																	$(
																			'#dialogcontent')
																			.append(
																					'스팟등록은 로그인 후 이용해 주세요.');
																	$(
																			'#commondialog')
																			.show();
																}
															}
														},
														error : function(jqXHR,
																textStatus,
																errorThrown) {
															indicatorOff();
															$('#dialogtitle')
																	.append(
																			'이미지업로드');
															$('#dialogcontent')
																	.append(
																			textStatus);
															$('#commondialog')
																	.show();
														}
													});
										}
									});
				</script>
				<tr>
					<th>동영상<mark></mark></th>
					<td>
						<div class="form">
							<p class="item">외부링크</p>
							<input type="text" id="embedvideo" name="embedvideo"
								class="inp t05" />
						</div>
						<div class="form t01">
							<p class="item">파일첨부</p>
							<div class="image-upload">
								<label for="spotvideo" class="btnEtc01">찾아보기</label> <input
									type="file" id="spotvideo" name="spotvideo">
							</div>
							<p class="" id="videofilename"></p>
						</div>
						<p class="rtxt mt5">※ 동영상파일(mp4, mov, avi)만 첨부 가능하고 최대 500MB까지
							첨부할 수 있습니다.</p>
					</td>
				</tr>
				<script>
					$("#spotvideo")
							.on(
									'change',
									function() {
										resetCommonDialog();
										indicatorOn();
										// 업로드
										$
												.ajax({
													url : 'JSONHostSpotVideoUpload.festa',
													type : 'POST',
													data : new FormData(
															$('form')[1]),
													mimeType : 'multipart/form-data',
													dataType : 'json',
													contentType : false,
													cache : false,
													processData : false,
													success : function(data,
															textStatus, jqXHR) {
														if (data.resultcode == 0) {
															indicatorOff();
															$('#videofilepath')
																	.val(
																			data.tempspotvideopath);
															$('#videofilename')
																	.html(
																			data.tempspotvideopath);
														} else {
															indicatorOff();
															if (data.resultcode == 1) {
																$(
																		'#dialogtitle')
																		.append(
																				'동영상업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'동영상을 첨부해 주세요.');
																$(
																		'#commondialog')
																		.show();
															} else if (data.resultcode == 2) {
																$(
																		'#dialogtitle')
																		.append(
																				'동영상업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'동영상 파일만 첨부 가능합니다.');
																$(
																		'#commondialog')
																		.show();
															} else if (data.resultcode == 3) {
																$(
																		'#dialogtitle')
																		.append(
																				'동영상업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'최대 500MB까지 첨부할 수 있습니다.');
																$(
																		'#commondialog')
																		.show();
															} else if (data.resultcode == 4) {
																$(
																		'#dialogtitle')
																		.append(
																				'동영상업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'다시 로그인 해주세요.');
																$(
																		'#commondialog')
																		.show();
															}
														}
													},
													error : function(jqXHR,
															textStatus,
															errorThrown) {
														indicatorOff();
														$('#dialogtitle')
																.append(
																		'동영상업로드');
														$('#dialogcontent')
																.append(
																		textStatus);
														$('#commondialog')
																.show();
													}
												});
									});
				</script>
				<tr>
					<th>리플렛<mark></mark></th>
					<td>
						<div class="form t01">
							<p class="item">파일첨부</p>
							<div class="image-upload">
								<label for="spotleaflet" class="btnEtc01">찾아보기</label> <input
									type="file" id="spotleaflet" name="spotleaflet">
							</div>
							<p class="" id="leafletfilename"></p>
						</div>
						<p class="rtxt mt5">※ PDF파일만 첨부 가능하고 최대 100MB까지 첨부할 수 있습니다.</p>
					</td>
				</tr>
				<script>
					$("#spotleaflet")
							.on(
									'change',
									function() {
										resetCommonDialog();
										indicatorOn();
										// 업로드
										$
												.ajax({
													url : 'JSONHostSpotLeafletUpload.festa',
													type : 'POST',
													data : new FormData(
															$('form')[1]),
													mimeType : 'multipart/form-data',
													dataType : 'json',
													contentType : false,
													cache : false,
													processData : false,
													success : function(data,
															textStatus, jqXHR) {
														if (data.resultcode == 0) {
															indicatorOff();
															$('#leafletfilepath')
																	.val(
																			data.tempspotleafletpath);
															$('#leafletfilename')
																	.html(
																			data.tempspotleafletpath);
														} else {
															indicatorOff();
															if (data.resultcode == 1) {
																$(
																		'#dialogtitle')
																		.append(
																				'리플렛업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'리플렛을 첨부해 주세요.');
																$(
																		'#commondialog')
																		.show();
															} else if (data.resultcode == 2) {
																$(
																		'#dialogtitle')
																		.append(
																				'리플렛업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'PDF파일만 첨부 가능합니다.');
																$(
																		'#commondialog')
																		.show();
															} else if (data.resultcode == 3) {
																$(
																		'#dialogtitle')
																		.append(
																				'리플렛업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'최대 100MB까지 첨부할 수 있습니다.');
																$(
																		'#commondialog')
																		.show();
															} else if (data.resultcode == 4) {
																$(
																		'#dialogtitle')
																		.append(
																				'리플렛업로드');
																$(
																		'#dialogcontent')
																		.append(
																				'다시 로그인 해주세요.');
																$(
																		'#commondialog')
																		.show();
															}
														}
													},
													error : function(jqXHR,
															textStatus,
															errorThrown) {
														indicatorOff();
														$('#dialogtitle')
																.append(
																		'리플렛업로드');
														$('#dialogcontent')
																.append(
																		textStatus);
														$('#commondialog')
																.show();
													}
												});
									});
				</script>
				<tr>
					<th>가게소개<mark>*</mark></th>
					<td>
						<div class="form"></div> <textarea id="description"
							name="description" class="textarea"></textarea>
					</td>
				</tr>
				<tr>
					<th>해시태그<mark>*</mark>
					</th>
					<td>
						<div class="form">
							<input type="text" id="hashtags" name="hashtags" class="inp"
								placeholder="" />
						</div>
						<p class="rtxt mt5">※ 각 태그는 쉼표로 구분하며, '한글/영문/숫자/_(언더바)' 만 최대
							10개까지 입력 가능합니다. ex) ALLFestMoa,축제,이벤트,전통시장</p>
					</td>
				</tr>
			</table>

			<p class="wSubj">
				이용정보 <span>(선택)</span>
			</p>
			<table class="writeTable t01">
				<colgroup>
					<col width="150" />
					<col width="" />
				</colgroup>
				<tr>
					<th>취급품목/메뉴</th>
					<td>
						<div class="form">
							<textarea id="items" name="items" class="textarea"></textarea>
						</div>
					</td>
				</tr>
				<tr>
					<th class="vm">온누리상품권</th>
					<td>
						<div class="form">
							<input type="radio" name="giftcardflag" id="giftcardflag1"
								value="Y" /> <label for="giftcardflag1">사용가능</label> <input
								type="radio" name="giftcardflag" id="giftcardflag2" value="N" />
							<label for="giftcardflag2">사용불가</label>
						</div>
					</td>
				</tr>
				<tr>
					<th>온라인/전화주문</th>
					<td>
						<div class="form">
							<input type="radio" name="onlineorderflag" id="onlineorderflag1"
								value="Y" /> <label for="onlineorderflag1">가능</label> <input
								type="radio" name="onlineorderflag" id="onlineorderflag2"
								value="N" /> <label for="onlineorderflag2">불가</label>
						</div>
						<div class="form t01">
							<p class="item">연락처</p>
							<select id="onlineordercontact01" name="onlineordercontact01"
								class="select w60"><option value="">선택</option>
								<option value="02">서울 (02)</option>
								<option value="031">경기 (031)</option>
								<option value="032">인천 (032)</option>
								<option value="033">강원 (033)</option>
								<option value="041">충남 (041)</option>
								<option value="042">대전 (042)</option>
								<option value="043">충북 (043)</option>
								<option value="051">부산 (051)</option>
								<option value="052">울산 (052)</option>
								<option value="053">대구 (053)</option>
								<option value="054">경북 (054)</option>
								<option value="055">경남 (055)</option>
								<option value="061">전남 (061)</option>
								<option value="062">광주 (062)</option>
								<option value="063">전북 (063)</option>
								<option value="064">제주 (064)</option>
								<option value="070">인터넷전화 (070)</option>
								<option value="050">평생전화 (050)</option>
								<option value="010">010</option>
								<option value="011">011</option>
								<option value="016">016</option>
								<option value="017">017</option>
								<option value="018">018</option>
								<option value="019">019</option></select> <span class="etxt">-</span> <input
								type="text" id="onlineordercontact02"
								name="onlineordercontact02" class="inp w60" /> <span
								class="etxt">-</span> <input type="text"
								id="onlineordercontact03" name="onlineordercontact03"
								class="inp w60" />
						</div>
						<div class="form t01">
							<p class="item">온라인</p>
							<input type="text" id="onlineordersite" name="onlineordersite"
								class="inp t05" placeholder="http://" />
						</div>
					</td>
				</tr>
				<tr>
					<th class="vm">배송서비스</th>
					<td>
						<div class="form">
							<input type="radio" name="deliveryflag" id="deliveryflag1"
								value="Y" /> <label for="deliveryflag1">가능</label> <input
								type="radio" name="deliveryflag" id="deliveryflag2" value="N" />
							<label for="deliveryflag2">불가</label>
						</div>
					</td>
				</tr>
				<tr>
					<th>주차장</th>
					<td>
						<div class="form">
							<input type="radio" name="parkingflag" id="parkingflag1"
								value="Y" /> <label for="parkingflag1">있음</label> <input
								type="radio" name="parkingflag" id="parkingflag2" value="N" />
							<label for="parkingflag2">없음</label>
						</div>
						<div class="form t01">
							<textarea class="textarea" id="parkingremark"
								name="parkingremark" placeholder="주차에 대한 정보를 작성해주세요."></textarea>
						</div>
					</td>
				</tr>
				<tr>
					<th>화장실</th>
					<td>
						<div class="form">
							<input type="radio" name="toiletflag" id="toiletflag1" value="Y" />
							<label for="toiletflag1">있음</label> <input type="radio"
								name="toiletflag" id="toiletflag2" value="N" /> <label
								for="toiletflag2">없음</label>
						</div>
						<div class="form t01">
							<textarea class="textarea" name="toiletremark" id="toiletremark"
								placeholder="공중화장실에 대한 특이사항을 작성해주세요."></textarea>
						</div>
					</td>
				</tr>


				<input type="hidden" name="adapplyflag" value="N" id="adapplyflag"/>
				<input type="hidden" name="bizimagefilepath" value="" id="bizimagefilepath"/>
				<input type="hidden" name="maintopbannerflag" value="N" id="maintopbannerflag"/>
				<input type="hidden" name="maintopbannerimagefilepath" value="" id="maintopbannerimagefilepath"/>
				<input type="hidden" name="hotspotbannerflag" value="N" id="hotspotbannerflag"/>
				<input type="hidden" name="bestbannerflag" value="N" id="bestbannerflag"/>
				<input type="hidden" name="promotionflag" value="N" id="promotionflag"/>
				<input type="hidden" name="premiumpageflag" value="N" id="premiumpageflag"/>
				<input type="hidden" name="keywordflag" value="N" id="keywordflag"/>
				<input type="hidden" name="hashtagflag" value="N" id="hashtagflag"/>
				<input type="hidden" name="etcflag" value="N" id="etcflag"/>
				<tr>
					<td colspan="2">
						<!-- 전체 수정2019.05.24-->
						<div class="kangoWarp">
							<p class="kangoSubj">유료광고 신청하기</p>
							<p class="kangoTxt">※ 유료광고는 필수사항이 아니며, 컨텐츠 등록 이후에도 신청할 수
								있습니다.</p>
							<div class="btnKango">
								<a href="javascript:void(0)"
									onclick="javascript:$.serviceDialog('광고신청 내역', '<br />서비스 준비중 입니다.<br />', '');">
									<img src="https://joyfesta.kr/include/img/ico/ico_kango.png" /> <span>#광고집행신청서
										작성</span> <input type="checkbox" id="chk_adapply" /> <label
									for="chk_adapply" class="label"></label>
								</a>
							</div>
						</div> <!--광고집행신청서-->  <!--//광고집행신청서-->
					</td>
				</tr>
			</table>


			<div class="boardBtnBox ac">
				<a href="javascript:void(0)" id="registerbutton" class="btnType03">#등록
					승인요청</a> <a href="javascript:void(0)" onclick="window.history.back();"
					class="btnType04">#목록</a>
			</div>
		</div>
	</section>
</form>

<div class="dialog" id="marketsearchformdialog" style="display: none;">
	<div class="popBox_store">
		<div class="popHeader_store">
			<h1>소속전통시장 찾기</h1>
			<a href="javascript:void(0)"
				onclick="javascript:$('#marketsearchformdialog').hide();"><img
				src="https://joyfesta.kr/include/img/ico/ico_close02.png" /></a>
		</div>
		<div class="popCont_search">
			<div class="form">
				<select class="select" id="marketsearchtype">
					<option value="">전체</option>
					<option value="title">시장이름</option>
					<option value="address">지역</option>
				</select> <input type="text" id="marketsearchkeyword" class="" /> <a
					href="javascript:void(0)" id="marketsearchbutton"
					class="btn_search">검색</a>
			</div>
		</div>
		<div class="popCont_storeList">
			<table class="tbl_style" id="marketlist">
			</table>
		</div>
		<div class="paging" id="searchmarketpaging"></div>

		<div class="btnBox">
			<a href="javascript:void(0)" class="btnType01" id="marketaddbutton"
				style="display: none;">추가</a> <a href="javascript:void(0)"
				onclick="javascript:$('#marketsearchformdialog').hide();"
				class="btnType02">닫기</a>
		</div>
	</div>
	<tr style="display:none;">
  <td colspan="2">
<input type="hidden" name="seletedmarketseq" value="" id="seletedmarketseq"/>  </td>
</tr>

	<tr style="display:none;">
  <td colspan="2">
<input type="hidden" name="seletedmarkettitle" value="" id="seletedmarkettitle"/>  </td>
</tr>

</div>

<script src="/gukmin/js/underscore-min.js"></script>
<script>
	$('#searchmarketbutton').click(function() {
		$('#marketsearchformdialog').show();
	});

	$('#marketsearchbutton').click(
			function() {
				getSearchMarketList(1, $('#marketsearchtype').val(), $(
						'#marketsearchkeyword').val());
				$('#seletedmarketseq').val('');
				$('#seletedmarkettitle').val('');
			});

	$('#marketaddbutton').click(
			function() {
				if ($('#seletedmarketseq').val() == ''
						|| $('#seletedmarkettitle').val() == '') {
					alert('소속전통시장을 선택해 주세요.');
				} else {
					$('#marketseq').val($('#seletedmarketseq').val());
					$('#markettitle').val($('#seletedmarkettitle').val());
					$('#seletedmarketseq').val('');
					$('#seletedmarkettitle').val('');
				}

			});

	function getSearchMarketList(currentPage, searchtype, searchkeyword) {
		resetCommonDialog();
		indicatorOn();
		$
				.ajax({
					url : 'JSONSearchMarketList.festa',
					type : 'POST',
					data : {
						currentPage : currentPage,
						searchtype : searchtype,
						searchkeyword : searchkeyword
					},
					dataType : 'json',
					success : function(data, textStatus, jqXHR) {
						indicatorOff();
						if (data.resultcode == 0) {
							var itemList = data.itemList;
							paging = data.paging;
							$('#marketlist').empty();
							$('#searchmarketpaging').empty();
							if (itemList.length == 0) {
								$('#marketlist').append('검색 결과가 없습니다.');
								$('#marketaddbutton').hide();
							} else { // 데이터가있으면 목록을 each로 반복
								$('#marketlist')
										.append(
												'<colgroup><col width="7%" /><col width="15%" /><col width="17%" /><col width="" /><col width="17%" /><col width="17%" /></colgroup>'
														+ '<tr><th>&nbsp;</th><th>시장유형</th><th>시장종류</th><th>시장이름</th><th>지역</th><th>등록일</th></tr>');
								_
										.each(
												itemList,
												function(item, index) {
													$('#marketlist')
															.append(
																	'<tr><td><input type="radio" name="marketradio" onclick="javascript:$(\'#seletedmarketseq\').val(\''
																			+ item.marketseq
																			+ '\');$(\'#seletedmarkettitle\').val(\''
																			+ item.title
																			+ '\');" /></td>'
																			+ '<td title="'
													+ item.types
													 + '">'
																			+ item.types
																					.substr(
																							0,
																							6)
																			+ '</td>'
																			+ '<td title="'
													+ item.cycles
													 + '">'
																			+ item.cycles
																					.substr(
																							0,
																							6)
																			+ '</td>'
																			+ '<td class="le" title="'
													+ item.title
													 + '">'
																			+ item.title
																					.substr(
																							0,
																							10)
																			+ '</td>'
																			+ '<td title="'
													+ item.roadaddress
													 + '">'
																			+ item.roadaddress
																					.substr(
																							0,
																							8)
																			+ '</td>'
																			+ '<td>'
																			+ item.registerdate
																			+ '</td>'
																			+ '</tr>');
												});
								$('#marketaddbutton').show();

								// 이부분이 페이징처리
								if (paging.page != 1) {
									$('.paging')
											.append(
													'<a href="javascript:getSearchMarketList(1, "'
															+ searchtype
															+ '", "'
															+ searchkeyword
															+ '");" class="first"></a>'); // 첫페이지로가는버튼
									// 활성화
								} else {
									$('.paging')
											.append(
													'<a href="javascript:void(0);" class="first"></a>'); // 첫페이지로가는버튼
									// 비활성화
								}
								if (paging.block != 1) { // 첫번째 블럭이 아니면
									$('.paging')
											.append(
													'<a href="javascript:getSearchMarketList('
															+ (Number(paging.startPage) - Number(1))
															+ ', \''
															+ searchtype
															+ '\', \''
															+ searchkeyword
															+ '\');" class="prev"></a>'); // 뒤로가기버튼
									// 활성화
								} else {
									$('.paging')
											.append(
													'<a href="javascript:void(0);" class="prev">1</a>'); // 뒤로가기버튼
									// 비활성화
								}
								for (var i = paging.startPage; i <= paging.endPage; i++) { // 시작페이지부터
									// 종료페이지까지
									// 반복문
									if (paging.page == i) { // 현재페이지가 반복중인 페이지와
										// 같다면
										$('.paging').append(
												'<a href="javascript:void(0);" class="on">'
														+ i + '</a>'); // 버튼
										// 비활성화
									} else {
										$('.paging')
												.append(
														'<a href="javascript:getSearchMarketList('
																+ i + ', \''
																+ searchtype
																+ '\', \''
																+ searchkeyword
																+ '\');">' + i
																+ '</a>'); // 버튼
										// 활성화
									}
								}
								if (paging.block < paging.totalBlock) { // 전체페이지블럭수가
									// 현재블럭수보다
									// 작을때
									$('.paging')
											.append(
													'<a href="javascript:getSearchMarketList('
															+ (Number(paging.endPage) + Number(1))
															+ ', \''
															+ searchtype
															+ '\', \''
															+ searchkeyword
															+ '\');" class="next"></a>'); // 다음페이지버튼
									// 활성화
								} else {
									$('.paging')
											.append(
													'<a href="javascript:void(0);" class="next"></a>'); // 다음페이지버튼
									// 비활성화
								}
								if (paging.page < paging.totalPage) { // 현재페이지가
									// 전체페이지보다
									// 작을때
									$('.paging')
											.append(
													'<a href="javascript:getSearchMarketList('
															+ paging.totalPage
															+ ', \''
															+ searchtype
															+ '\', \''
															+ searchkeyword
															+ '\');" class="last"></a>'); // 마지막페이지로
									// 가기
									// 버튼
									// 활성화
								} else {
									$('.paging')
											.append(
													'<a href="javascript:void(0);" class="last"></a>'); // 마지막페이지로
									// 가기
									// 버튼
									// 비활성화
								}
							}
						} else {
							indicatorOff();
							/*
							 * $('#dialogtitle').append('에러');
							 * $('#dialogcontent').append(data.resultmessage);
							 * $('#commondialog').show();
							 */
						}
					},
					error : function(jqXHR, textStatus, errorThrown) {
						indicatorOff();
					}
				});
	}

	$('#contact01').change(function() {
		if ($('#contact01').val() == '999') {
			$('#contact0203').hide();
			$('#contact').show();
		} else {
			$('#contact0203').show();
			$('#contact').hide();
		}
	});
	
	function setRegion(region) {
		$("a[id^='region']").each(function(i, el) {
			$(this).attr('class', '');
		});
		$('#region' + region).attr('class', 'on');
		$('#region').val(region);
	}

	var situationseqs = [];
	function setSituation(situationseq) {
		if ($('#situation' + situationseq).attr('class') == 'on') {
			situationseqs.push(situationseq);
		} else {
			situationseqs.splice($.inArray(situationseq, situationseqs), 1);
		}
		$('#situationseqs').val(situationseqs);
	}

	var seasonseqs = [];
	function setSeason(seasonseq) {
		if ($('#season' + seasonseq).attr('class') == 'on') {
			seasonseqs.push(seasonseq);
		} else {
			seasonseqs.splice($.inArray(seasonseq, seasonseqs), 1);
		}
		$('#seasonseqs').val(seasonseqs);
	}

	var termseqs = [];
	function setTerm(termseq) {
		if ($('#term' + termseq).attr('class') == 'on') {
			termseqs.push(termseq);
		} else {
			termseqs.splice($.inArray(termseq, termseqs), 1);
		}
		$('#termseqs').val(termseqs);
	}

	function setOpenflag(openflag) {
		$("a[id^='openflag']").each(function(i, el) {
			$(this).attr('class', '');
		});
		$('#openflag' + openflag).attr('class', 'on');
		$('#openflag').val(openflag);
	}

	var typeseqs = [];
	function setType(typeseq) {
		if ($('#type' + typeseq).attr('class') == 'on') {
			typeseqs.push(typeseq);
		} else {
			typeseqs.splice($.inArray(typeseq, typeseqs), 1);
		}
		$('#typeseqs').val(typeseqs);
	}

	var holidayseqs = [];
	function setHoliday(holidayseq) {
		if ($('#holiday' + holidayseq).attr('class') == 'on') {
			holidayseqs.push(holidayseq);
		} else {
			holidayseqs.splice($.inArray(holidayseq, holidayseqs), 1);
		}
		$('#holidayseqs').val(holidayseqs);
	}

	$('#chk_adapply').change(function() {
		if ($(this).is(':checked')) {
			$('#adapplyflag').val('Y');
		} else {
			$('#adapplyflag').val('N');
		}
	});

	var expectamout = 0;
	
	$('#chk_mtop').change(function() {
		if ($(this).is(':checked')) {
			$('#maintopbannerflag').val('Y');
			expectamout = expectamout + 1000000;
			$('#expectamout').val(expectamout);
		} else {
			$('#maintopbannerflag').val('N');
			expectamout = expectamout - 1000000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_mhot').change(function() {
		if ($(this).is(':checked')) {
			$('#hotspotbannerflag').val('Y');
			expectamout = expectamout + 500000;
			$('#expectamout').val(expectamout);
			
		} else {
			$('#hotspotbannerflag').val('N');
			expectamout = expectamout - 500000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_mbest').change(function() {
		if ($(this).is(':checked')) {
			$('#bestbannerflag').val('Y');
			expectamout = expectamout + 500000;
			$('#expectamout').val(expectamout);
		} else {
			$('#bestbannerflag').val('N');
			expectamout = expectamout - 500000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_mplan').change(function() {
		if ($(this).is(':checked')) {
			$('#promotionflag').val('Y');
			expectamout = expectamout + 1000000;
			$('#expectamout').val(expectamout);
		} else {
			$('#promotionflag').val('N');
			expectamout = expectamout - 1000000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_mprim').change(function() {
		if ($(this).is(':checked')) {
			$('#premiumpageflag').val('Y');
			expectamout = expectamout + 200000;
			$('#expectamout').val(expectamout);
		} else {
			$('#premiumpageflag').val('N');
			expectamout = expectamout - 200000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_msearch').change(function() {
		if ($(this).is(':checked')) {
			$('#keywordflag').val('Y');
			expectamout = expectamout + 200000;
			$('#expectamout').val(expectamout);
		} else {
			$('#keywordflag').val('N');
			expectamout = expectamout - 200000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_mtag').change(function() {
		if ($(this).is(':checked')) {
			$('#hashtagflag').val('Y');
			expectamout = expectamout + 50000;
			$('#expectamout').val(expectamout);
		} else {
			$('#hashtagflag').val('N');
			expectamout = expectamout - 50000;
			$('#expectamout').val(expectamout);
		}
	});

	$('#chk_metc').change(function() {
		if ($(this).is(':checked')) {
			$('#etcflag').val('Y');
	        // disabled 삭제
	        $("#etccost").removeAttr("disabled");
		} else {
			$('#etcflag').val('N');
			$('#etccost').val('');
			// disabled 처리
	        $("#etccost").attr("disabled", true);
		}
	});
	
	$("#etccost").on("keypress keyup blur",function (event) {    
    	$(this).val($(this).val().replace(/[^\d].+/, ""));
       	if ((event.which < 48 || event.which > 57)) {
           	event.preventDefault();
       	}
    });
	
	$("#maintopbannerimage").on('change', function() {
		resetCommonDialog();
		indicatorOn();
		// 업로드
		$.ajax({
			url : 'JSONAdApplyImageUpload.festa?imagetype=banner',
			type : 'POST',
			data : new FormData($('form')[1]),
			mimeType : 'multipart/form-data',
			dataType : 'json',
			contentType : false,
			cache : false,
			processData : false,
			success : function(data, textStatus, jqXHR) {
				if (data.resultcode == 0) {
					indicatorOff();
					$('#maintopbannerimagetag').html(data.tempimagepath);
					$('#maintopbannerimagetag').show();
					$('#maintopbannerimagefilepath').val(data.tempimagepath);
				} else {
					indicatorOff();
					if (data.resultcode == 1) {
						$('#dialogtitle').append('이미지업로드');
						$('#dialogcontent').append('이미지를 첨부해 주세요.');
						$('#commondialog').show();
					} else if (data.resultcode == 2) {
						$('#dialogtitle').append('이미지업로드');
						$('#dialogcontent').append('이미지 파일만 첨부 가능합니다.');
						$('#commondialog').show();
					} else if (data.resultcode == 3) {
						$('#dialogtitle').append('이미지업로드');
						$('#dialogcontent').append('최대 5MB까지 첨부할 수 있습니다.');
						$('#commondialog').show();
					} else if (data.resultcode == 4) {
						$('#dialogtitle').append('이미지업로드');
						$('#dialogcontent').append('다시 로그인 해주세요.');
						$('#commondialog').show();
					}
				}
			},
			error : function(jqXHR, textStatus, errorThrown) {
				indicatorOff();
				$('#dialogtitle').append('이미지업로드');
				$('#dialogcontent').append(textStatus);
				$('#commondialog').show();
			}
		});
	});

	$("#bizimage").on('change', function() {
		resetCommonDialog();
		indicatorOn();
		// 업로드
		$.ajax({
			url : 'JSONAdApplyImageUpload.festa?imagetype=biz',
			type : 'POST',
			data : new FormData($('form')[1]),
			mimeType : 'multipart/form-data',
			dataType : 'json',
			contentType : false,
			cache : false,
			processData : false,
			success : function(data, textStatus, jqXHR) {
				if (data.resultcode == 0) {
					indicatorOff();
					$('#bizimagefilepathtag').html(data.tempimagepath);
					$('#bizimagefilepathtag').show();
					$('#bizimagefilepath').val(data.tempimagepath);
				} else {
					indicatorOff();
					if (data.resultcode == 1) {
						$('#dialogtitle').append('사업자등록증업로드');
						$('#dialogcontent').append('사업자등록증을 첨부해 주세요.');
						$('#commondialog').show();
					} else if (data.resultcode == 2) {
						$('#dialogtitle').append('사업자등록증업로드');
						$('#dialogcontent').append('이미지 파일만 첨부 가능합니다.');
						$('#commondialog').show();
					} else if (data.resultcode == 3) {
						$('#dialogtitle').append('사업자등록증업로드');
						$('#dialogcontent').append('최대 5MB까지 첨부할 수 있습니다.');
						$('#commondialog').show();
					} else if (data.resultcode == 4) {
						$('#dialogtitle').append('사업자등록증업로드');
						$('#dialogcontent').append('다시 로그인 해주세요.');
						$('#commondialog').show();
					}
				}
			},
			error : function(jqXHR, textStatus, errorThrown) {
				indicatorOff();
				$('#dialogtitle').append('사업자등록증업로드');
				$('#dialogcontent').append(textStatus);
				$('#commondialog').show();
			}
		});
	});

	$('#registerbutton')
			.click(
					function() {
						resetCommonDialog();
						indicatorOn();

						if ($("input:checkbox[id='noholiday']").is(":checked") == true) {
							$('#noholidayflag').val('Y');
						} else {
							$('#noholidayflag').val('N');
						}

						var contact = $('#contact01').val() + '-'
								+ $('#contact02').val() + '-'
								+ $('#contact03').val();
						if ($('#contact01').val() == '999') {
							contact = $('#contact').val();
						}

						$
								.ajax({
									url : 'JSONHostStoreRegister.festa',
									type : 'POST',
									data : {
										region : $('#region').val(),
										situationseqs : $('#situationseqs')
												.val(),
										seasonseqs : $('#seasonseqs').val(),
										termseqs : $('#termseqs').val(),
										openflag : $('#openflag').val(),
										typeseqs : $('#typeseqs').val(),
										typeetc : $('#typeetc').val(),
										marketseq : $('#marketseq').val(),
										title : $('#title').val(),
										closetime : $('#closetimeh').val()
												+ ':' + $('#closetimem').val(),
										opentime : $('#opentimeh').val() + ':'
												+ $('#opentimem').val(),
										holidayseqs : $('#holidayseqs').val(),
										holidayetc : $('#holidayetc').val(),
										noholidayflag : $('#noholidayflag')
												.val(),
										roadaddress : $('#roadaddress').val(),
										lat : $('#lat').val(),
										lon : $('#lon').val(),
										homepageurl : $('#homepageurl').val(),
										contact : contact,
										openyear : $('#openyear').val(),
										imagefilepath : $('#imagefilepath')
												.val(),
										mainimagepath : $(
												'input[name=mainimagepath]:checked')
												.val(),
										embedvideo : $('#embedvideo').val(),
										videofilepath : $('#videofilepath')
												.val(),
										leafletfilepath : $('#leafletfilepath')
												.val(),
										description : $('#description').val(),
										items : $('#items').val(),
										hashtags : $('input[name=hashtags]')
												.val(),
										parkingflag : $(
												'input[name=parkingflag]:checked')
												.val(),
										parkingremark : $('#parkingremark')
												.val(),
										toiletflag : $(
												'input[name=toiletflag]:checked')
												.val(),
										toiletremark : $('#toiletremark').val(),
										giftcardflag : $(
												'input[name=giftcardflag]:checked')
												.val(),
										onlineorderflag : $(
												'input[name=onlineorderflag]:checked')
												.val(),
										onlineordercontact : $(
												'#onlineordercontact').val(),
										onlineordersite : $('#onlineordersite')
												.val(),
										deliveryflag : $(
												'input[name=deliveryflag]:checked')
												.val()/*,
										// 광고신청
										adapplyflag : $('#adapplyflag').val(),
										maintopbannerflag : $(
												'#maintopbannerflag').val(),
										maintopbannerimagefilepath : $(
												'#maintopbannerimagefilepath')
												.val(),
										hotspotbannerflag : $(
												'#hotspotbannerflag').val(),
										bestbannerflag : $('#bestbannerflag')
												.val(),
										promotionflag : $('#promotionflag')
												.val(),
										premiumpageflag : $('#premiumpageflag')
												.val(),
										keywordflag : $('#keywordflag').val(),
										keyword : $('#keyword').val(),
										hashtagflag : $('#hashtagflag').val(),
										hashtag : $('#hashtag').val(),
										etcflag : $('#etcflag').val(),
										etccost : $('#etccost').val(),
										expectamout : $('#expectamout').val(),

										corpname : $('#corpname').val(),
										zipcode : $('#zipcode').val(),
										address : $('#address').val(),
										biznumber : $('#biznumber01').val()
												+ '-' + $('#biznumber02').val()
												+ '-' + $('#biznumber03').val(),
										representname : $('#representname')
												.val(),
										biztype : $('#biztype').val(),
										bizcate : $('#bizcate').val(),
										taxemail : $('#taxemail01').val() + '@'
												+ $('#taxemail02').val(),
										bizimagefilepath : $(
												'#bizimagefilepath').val(),
										managername : $('#managername').val(),
										manageremail : $('#manageremail01')
												.val()
												+ '@'
												+ $('#manageremail02').val(),
										managercontact : $('#managercontact01')
												.val()
												+ '-'
												+ $('#managercontact02').val()
												+ '-'
												+ $('#managercontact03').val(),
										managerphonenumber : $(
												'#managerphonenumber01').val()
												+ '-'
												+ $('#managerphonenumber02')
														.val()
												+ '-'
												+ $('#managerphonenumber03')
														.val(),
										requestcontent : $('#requestcontent')
												.val()
												*/
									},
									dataType : 'json',
									success : function(data, textStatus, jqXHR) {
										indicatorOff();
										if (data.resultcode == 0) {
											$('#dialogtitle').append('스팟등록');
											$('#dialogcontent').append(
													'스팟등록신청이 완료되었습니다.');
											dialogtargeturl = 'HostSpot.festa';
											$('#commondialog').show();
										} else if (data.resultcode == 2) {
											$('#dialogtitle').append('스팟등록');
											$('#dialogcontent').append(
													data.resultmessage);
											$('#commondialog').show();
										} else {
											$('#dialogtitle').append('스팟등록');
											$('#dialogcontent').append(
													data.resultmessage);
											$('#commondialog').show();
										}
									},
									error : function(jqXHR, textStatus,
											errorThrown) {
										indicatorOff();
										$('#dialogtitle').append('스팟등록');
										$('#dialogcontent').append(textStatus);
										$('#commondialog').show();
									}
								});
					});

/* 	$(document).ready(function() {
		$('#region').val('');
		$('#situationseqs').val('');
		$('#seasonseqs').val('');
		$('#termseqs').val('');
		$('#typeseqs').val('');
		$('#holidayseqs').val('');
		$("input:checkbox[id='chk_mtop']").prop("checked", false);
		$("input:checkbox[id='chk_mhot']").prop("checked", false);
		$("input:checkbox[id='chk_mbest']").prop("checked", false);
		$("input:checkbox[id='chk_mplan']").prop("checked", false);
		$("input:checkbox[id='chk_mprim']").prop("checked", false);
		$("input:checkbox[id='chk_msearch']").prop("checked", false);
		$("input:checkbox[id='chk_mtag']").prop("checked", false);
		$("input:checkbox[id='chk_metc']").prop("checked", false);
		$('#etccost').val('');
        $("#etccost").attr("disabled", true);
		$('#expectamout').val('');

		$('#description').trumbowyg(
				{
					lang : 'ko',
					btnsDef : {
						// Create a new dropdown
						image : {
							dropdown : [ 'insertImage', 'base64' ],
							ico : 'insertImage'
						}
					},
					// Redefine the button pane
					btns : [
							[ 'strong', 'em', 'del' ],
							[ 'fontfamily' ],
							[ 'fontsize' ],
							[ 'foreColor', 'backColor' ],
							[ 'link' ],
							[ 'image' ], // Our fresh created dropdown
							[ 'justifyLeft', 'justifyCenter',
									'justifyRight', 'justifyFull' ],
							[ 'lineheight' ],
							[ 'unorderedList', 'orderedList' ],
							[ 'horizontalRule' ], [ 'fullscreen' ],
							[ 'historyUndo', 'historyRedo' ] ]
				});
		
		
		$.serviceDialog('스팟등록하기', '<br />개인회원은 스팟을 등록할 수 없습니다.<br />스팟등록을 원하는 경우 호스트회원으로 가입해주세요.<br />', 'Main.festa');
		
	}); */

	
</script>



</th:block>

</html>